<div class="wrapper">

  <header-bar></header-bar>
  <!-- Left side column. contains the logo and sidebar -->
  <side-bar></side-bar>

  <!-- Content Wrapper. Contains category content -->
  <div class="content-wrapper">
    <!-- Content Header (Category header) -->
    <section class="content-header">
      <h1>
        {{Ctrl.sub_title}}
      </h1>
      <ol class="breadcrumb">
        <li><a href="javascript:void(0)"><i class="fa fa-dashboard"></i> Home</a></li>
        <li class="active">Dashboard</li>
      </ol>
    </section>

    <!-- Main content -->
    <section class="content">
      <div class="row">
        <div class="col-xs-12">

          <!-- /.box-header -->
          <div class="box box-primary">
            <div class="box-header with-border">
              <h3 class="box-title">{{Ctrl.sub_title}}</h3>
            </div>
            <notification-bar alert-data="Ctrl.notify"></notification-bar>
            <!-- /.box-header -->
            <!-- form start -->
            <form role="form" ng-submit="Ctrl.saveCategory()" name="myForm">
              <div class="box-body">
                <form-input label="Category Name" required name="name" model="Ctrl.category.name"></form-input>
                <text-area label="Category Description" model="Ctrl.category.description"></text-area>
                <div class="form-group">
                  <div class="form-group">
                    <div class="btn btn-primary" ng-model="file" ngf-select="Ctrl.imageUpload($file, 'category')" name="file" ngf-pattern="'image/*'" ngf-accept="'image/*'">Select Image</div>
                    <img ng-src="{{Ctrl.category.image.url}}" height="100" width="100" />
                    <p>&nbsp;</p>
                    <div class="progress progress-sm active">
                      <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="{{Ctrl.categoryProgressPercentage}}" aria-valuemin="0" aria-valuemax="100" style="width: {{Ctrl.categoryProgressPercentage}}%">
                        <span class="sr-only"></span>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="">Parent Category</label>
                  <select ng-model="Ctrl.category.parent" class="form-control">
                    <option value="{{category._id}}" ng-repeat="category in Ctrl.categories">{{category.name}}</option>
                  </select>
                </div>
                <!-- /.box-body -->

                <div class="box-footer">
                  <button type="submit" class="btn btn-primary" ng-disabled="
                  Ctrl.category.name =='' ||
                  Ctrl.category.description == '' ||
                  Ctrl.category.image.url == ''
                  ">Submit</button>
                  <button type="button" class="btn btn-default" ng-click="myForm.reset()">Reset</button>
                </div>
            </form>
            </div>
            <!-- /.box-body -->


          </div>

          <!-- /.content -->
        </div>
    </section>
    <!-- /.content-wrapper -->

    <footer-bar></footer-bar>
    </div>
  </div>
  <!-- ./wrapper -->
